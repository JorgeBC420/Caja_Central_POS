# Docker Security Configuration - Caja Central POS

# Variables de entorno para producción
COMPOSE_PROJECT_NAME=cajacentral-pos
COMPOSE_FILE=docker-compose.yml

# Configuración de seguridad
DOCKER_CONTENT_TRUST=1
DOCKER_BUILDKIT=1

# Rutas de datos (ajustar según tu sistema)
POS_DATA_PATH=./data
POS_LOGS_PATH=./logs
POS_CONFIG_PATH=./config
POS_CERTIFICATES_PATH=./certificates
POS_BACKUPS_PATH=./backups

# Configuración de base de datos
DATABASE_PATH=/app/data/caja_registradora_pos_cr.db
SQLITE_SECURE_DELETE=1
SQLITE_TEMP_STORE=2

# Configuración SSL/TLS
SSL_CERT_PATH=/app/certificates/cert.pem
SSL_KEY_PATH=/app/certificates/key.pem
SSL_ENABLED=true

# API de Hacienda
HACIENDA_ENVIRONMENT=stag
HACIENDA_API_TIMEOUT=30

# Configuración de logging
LOG_LEVEL=INFO
LOG_MAX_SIZE=100MB
LOG_MAX_FILES=5

# Configuración de backup
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_COMPRESSION=true

# Límites de recursos
MEMORY_LIMIT_APP=512m
MEMORY_LIMIT_DB=256m
MEMORY_LIMIT_API=256m
CPU_LIMIT_APP=1.0
CPU_LIMIT_DB=0.5
CPU_LIMIT_API=0.5

# Configuración de red
NETWORK_SUBNET_INTERNAL=172.20.0.0/24
NETWORK_SUBNET_EXTERNAL=172.21.0.0/24

# Puertos
HTTP_PORT=80
HTTPS_PORT=443
APP_PORT=8080
API_PORT=8000

# Configuración de monitoreo
HEALTHCHECK_INTERVAL=30s
HEALTHCHECK_TIMEOUT=10s
HEALTHCHECK_RETRIES=3

# Usuarios y permisos
CONTAINER_USER_ID=1000
CONTAINER_GROUP_ID=1000

# Timezone
TZ=America/Costa_Rica
